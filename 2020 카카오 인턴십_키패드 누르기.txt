// 2020 카카오 인턴십 : 키패드 누르기
#include <string>
#include <vector>
#include <cmath>

using namespace std;

// 0~9 키패드의 좌표를 저장
pair<int, int> keypad[10] = {
    {4, 2},
    {1, 1}, {1, 2}, {1, 3},
    {2, 1}, {2, 2}, {2, 3},
    {3, 1}, {3, 2}, {3, 3}
};

string solution(vector<int> numbers, string hand) {
    string answer = "";

    pair<int, int> left_hand = { 4, 1 }; // {y, x}
    pair<int, int> right_hand = { 4, 3 }; 
    for (int n : numbers) {
        if (n == 1 || n == 4 || n == 7) { // 왼손 사용
            left_hand = keypad[n];
            answer += 'L';
        }
        else if (n == 3 || n == 6 || n == 9) { // 오른손 사용
            right_hand = keypad[n];
            answer += 'R';
        }
        else { // 양손 사용
            int dis_left = abs(left_hand.first - keypad[n].first) + abs(left_hand.second - keypad[n].second);
            int dis_right = abs(right_hand.first - keypad[n].first) + abs(right_hand.second - keypad[n].second);

            if (dis_left < dis_right) { // 왼손이 더 가까울 때
                left_hand = keypad[n];
                answer += 'L';
            }
            else if (dis_left > dis_right) { // 오른손이 더 가까울 때
                right_hand = keypad[n];
                answer += 'R';
            }
            else { // 거리가 동일할 때
                if (hand == "left") {
                    left_hand = keypad[n];
                    answer += 'L';
                }
                else {
                    right_hand = keypad[n];
                    answer += 'R';
                }
            }
        }
    }

    return answer;
}