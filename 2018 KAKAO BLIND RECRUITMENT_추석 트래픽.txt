// 2018 KAKAO BLIND RECRUITMENT : 추석 트래픽 (문자열 + 그리디)
#include <string>
#include <vector>

using namespace std;

int solution(vector<string> lines) {
    int answer = 0;

    vector<int> startTime; // 작업의 시작 시각들을 저장
    vector<int> endTime; // 작업이 끝나는 시각들을 저장

    for (string line : lines) {
        line.pop_back(); // 문자열 맨 뒤에 붙은 's'를 날림

        // 작업이 끝난 시각 (ms 단위)
        int hour = stoi(line.substr(11, 2)) * 60 * 60 * 1000;
        int minute = stoi(line.substr(14, 2)) * 60 * 1000;
        int second = stoi(line.substr(17, 2)) * 1000 + stoi(line.substr(20, 3));
        
        // 작업의 처리시간을 저장 (ms 단위)
        int processingTime = stod(line.substr(24)) * 1000;

        startTime.push_back(hour + minute + second - processingTime + 1);
        endTime.push_back(hour + minute + second);
    }

    // 초당 최대 사용량을 구한다.
    int maxUsage = 0;
    for (int i = 0; i < lines.size(); i++) {
        int usage = 0;
        int limitTime = endTime[i] + 1000;

        for (int j = i; j < lines.size(); j++) {
            if (startTime[j] < limitTime) usage++;
        }

        // 초당 최대 사용량 갱신
        if (usage > maxUsage) maxUsage = usage;
    }

    // 답안 갱신
    answer = maxUsage;
    return answer;
}