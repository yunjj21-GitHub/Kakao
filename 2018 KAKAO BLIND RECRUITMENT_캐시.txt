// 2018 KAKAO BLIND RECRUITMENT : 캐시
#include <string>
#include <vector>
#include <unordered_map>

using namespace std;

int solution(int cacheSize, vector<string> cities) {
    int answer = 0;

    // 도시의 이름은 대소문자 구분을 하지 않음
    for (int i = 0; i < cities.size(); i++) {
        for (int j = 0; j < cities[i].size(); j++) {
            if (cities[i][j] >= 'a' && cities[i][j] <= 'z') cities[i][j] -= 32;
        }
    }

    // 캐시 사이즈가 0인 경우 처리
    if (cacheSize == 0) return 5 * cities.size();

    unordered_map<string, int> cache;
    for (string city : cities) {
        if (cache.find(city) != cache.end()) { // 해당 도시명이 캐시에 있다면
            int time = cache[city];
            cache[city] = 0;

            for (auto tmp : cache) {
                if (cache[tmp.first] > time) continue;
                cache[tmp.first]++;
            }

            answer += 1;
        }
        else { // 해당 도시명이 캐시에 없다면 
            if (cache.size() == cacheSize) { // 메모리에 자리가 없다면
                string target;
                for (auto tmp : cache) {
                    if (cache[tmp.first] == cacheSize) {
                        target = tmp.first;
                        break;
                    }
                }

                // 사용한지 제일 오래된 데이터를 삭제
                cache.erase(target);
            } 
            
            cache[city] = 0;

            for (auto tmp : cache) {
                cache[tmp.first]++;
            }

            answer += 5;
        }
    }

    return answer;
}